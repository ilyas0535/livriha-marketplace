{% load static %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}">
<head>
    <title>{% block title %}Livriha - Create Free Online Store | Multi-Vendor E-commerce Platform | Créer Boutique Gratuite | إنشاء متجر إلكتروني مجاني{% endblock %}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Create your free online store with Livriha. Multi-vendor e-commerce platform with cash on delivery, payment gateway integration. Start selling online today! Créez votre boutique en ligne gratuite. إنشاء متجر إلكتروني مجاني مع الدفع عند الاستلام">
    <meta name="keywords" content="free online store, create ecommerce website, multi-vendor marketplace, cash on delivery, payment gateway, sell online, boutique en ligne gratuite, créer site e-commerce, paiement à la livraison, vendre en ligne, متجر إلكتروني مجاني, إنشاء موقع تجارة إلكترونية, الدفع عند الاستلام, بيع اون لاين, marketplace gratuit, plateforme e-commerce, vente en ligne, تجارة إلكترونية, سوق إلكتروني, منصة البيع">
    <meta name="author" content="Livriha">
    <meta name="robots" content="index, follow">
    <meta name="language" content="en, fr, ar">
    <meta name="geo.region" content="DZ, MA, TN, EG, SA, AE, FR, CA, US, GB">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Livriha - Create Free Online Store | Multi-Vendor E-commerce Platform">
    <meta property="og:description" content="Start your free online business today. Multi-vendor marketplace with cash on delivery, secure payments, and easy store management.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://livriha.store">
    <meta property="og:image" content="{% static 'site_logo/livriha.png' %}">
    <meta property="og:site_name" content="Livriha">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Livriha - Free E-commerce Platform">
    <meta name="twitter:description" content="Create your online store for free. Multi-vendor marketplace with cash on delivery support.">
    <meta name="twitter:image" content="{% static 'site_logo/livriha.png' %}">
    
    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#007bff">
    <link rel="canonical" href="https://livriha.store">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Livriha",
        "alternateName": ["Livriha Marketplace", "متجر ليفريها", "Boutique Livriha"],
        "url": "https://livriha.store",
        "description": "Create your free online store with Livriha. Multi-vendor e-commerce platform with cash on delivery support.",
        "potentialAction": {
            "@type": "SearchAction",
            "target": "https://livriha.store/?search={search_term_string}",
            "query-input": "required name=search_term_string"
        },
        "sameAs": [
            "https://facebook.com/livriha",
            "https://twitter.com/livriha",
            "https://instagram.com/livriha"
        ]
    }
    </script>
    
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Livriha",
        "url": "https://livriha.store",
        "logo": "{% static 'site_logo/livriha.png' %}",
        "description": "Free multi-vendor e-commerce platform enabling anyone to create their online store with cash on delivery support.",
        "address": {
            "@type": "PostalAddress",
            "addressCountry": "DZ"
        },
        "contactPoint": {
            "@type": "ContactPoint",
            "contactType": "customer service",
            "availableLanguage": ["English", "French", "Arabic"]
        }
    }
    </script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="icon" type="image/jpeg" href="{% static 'site_logo/a_la_livraison_logo.jpeg' %}">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="{% url 'home' %}">
                <img src="{% static 'site_logo/livriha.png' %}" alt="Livriha" height="40" class="me-2">
                Livriha
            </a>
            
            <!-- Google Translate Widget -->
            <div id="google_translate_element" class="me-3"></div>
            

            
            <!-- Quick Search -->
            <form class="d-flex me-3" method="get" action="{% url 'home' %}">
                <input class="form-control me-2" type="search" name="search" placeholder="Search..." style="width: 200px;">
                <button class="btn btn-outline-light" type="submit">Search</button>
            </form>
            
            <div class="navbar-nav ms-auto">
                <!-- Cart Icon -->
                <a class="nav-link position-relative" href="{% url 'cart' %}">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="cart-count" style="display: none;">
                        0
                    </span>
                </a>
                
                {% if user.is_authenticated %}
                    <a class="nav-link" href="{% url 'dashboard' %}">Dashboard</a>
                    <a class="nav-link" href="{% url 'wishlist' %}">Wishlist</a>
                    
                    <!-- Notifications Dropdown -->
                    <div class="nav-item dropdown">
                        <a class="nav-link position-relative" href="#" id="notificationDropdown" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-bell"></i>
                            <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="notification-count" style="display: none;">
                                0
                            </span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" style="width: 350px; max-height: 400px; overflow-y: auto;">
                            <li><h6 class="dropdown-header">Notifications</h6></li>
                            <div id="notification-list">
                                <!-- Notifications will be loaded here -->
                            </div>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item text-center" href="#" onclick="markAllAsRead()">Mark all as read</a></li>
                        </ul>
                    </div>
                    
                    <a class="nav-link" href="{% url 'logout' %}">Logout</a>
                {% else %}
                    <a class="nav-link" href="{% url 'login' %}">Login</a>
                    <a class="nav-link" href="{% url 'register' %}">Register</a>
                {% endif %}
            </div>
        </div>
    </nav>
    
    <main class="container mt-4">
        {% csrf_token %}
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
        
        {% block content %}{% endblock %}
    </main>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/notifications.js' %}"></script>
    <script src="{% static 'js/cart.js' %}"></script>
    
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'en',
                includedLanguages: 'en,fr,ar,es,de,zh,pt,it,ru,ja',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
    <style>
        /* Style Google Translate widget */
        .goog-te-gadget {
            font-family: inherit !important;
            font-size: 14px !important;
        }
        .goog-te-gadget .goog-te-combo {
            background: rgba(255,255,255,0.1) !important;
            border: 1px solid rgba(255,255,255,0.3) !important;
            color: white !important;
            border-radius: 4px !important;
            padding: 4px 8px !important;
        }
        .goog-te-gadget .goog-te-combo option {
            background: #333 !important;
            color: white !important;
        }
        .goog-te-banner-frame { display: none !important; }
        body { top: 0 !important; }
    </style>

    <script>
        // Initialize tooltips
        document.addEventListener('DOMContentLoaded', function() {
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
        });
    </script>
</body>
</html>